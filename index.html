<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>PDF Master Tool</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* -------------------------------------- */
    /* 1. CSS Variables for Themes & Colors */
    /* -------------------------------------- */
    :root {
      /* Dark Theme (Default) */
      --bg: #0f1014;
      --bg-alt: #181a20;
      --accent: #2dd4ff;
      --accent-soft: rgba(45, 212, 255, 0.15);
      --danger: #ff4d4f;
      --success: #22c55e;
      --text: #f9fafb;
      --muted: #9ca3af;
      --border: #272a33;
      --header-bg: linear-gradient(to right, #020617dd, #020617f5);
      --sidebar-bg: linear-gradient(to bottom, #020617, #020617ee);
      --card-shadow: 0 14px 40px rgba(15,23,42,0.9);
      --card-bg: linear-gradient(to bottom right, #020617f2, #020617ea);
      --drop-bg: radial-gradient(circle at top left, rgba(45,212,255,0.06), #020617dd);
      --drop-hover-bg: radial-gradient(circle at top left, rgba(45,212,255,0.12), #020617f0);
      --main-gradient: radial-gradient(circle at top, #1f2937 0, #020617 55%);
      --input-bg: #020617;

      /* Radii */
      --radius-lg: 16px;
      --radius-md: 10px;
      --radius-sm: 6px;
    }

    /* Light Theme Overrides */
    .light-theme {
      --bg: #f9fafb;
      --bg-alt: #ffffff;
      --accent: #0ea5e9;
      --accent-soft: rgba(14, 165, 233, 0.15);
      --danger: #ef4444;
      --success: #10b981;
      --text: #111827;
      --muted: #6b7280;
      --border: #e5e7eb;
      --header-bg: linear-gradient(to right, #ffffffe0, #fffffffa);
      --sidebar-bg: linear-gradient(to bottom, #ffffff, #f3f4f6ee);
      --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --card-bg: #ffffff;
      --drop-bg: #f9fafb;
      --drop-hover-bg: #eff6ff;
      --main-gradient: #f3f4f6;
      --input-bg: #ffffff;
    }
    .light-theme .logo {
        color: var(--bg);
    }
    .light-theme .btn {
        color: #fff;
    }
    .light-theme .btn-secondary {
        color: var(--muted);
        background: var(--bg-alt);
    }
    .light-theme .btn-secondary:hover {
        background: #f3f4f6;
        color: var(--text);
        box-shadow: none;
    }


    /* -------------------------------------- */
    /* 2. Base Styles */
    /* -------------------------------------- */

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--main-gradient);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background 0.3s, color 0.3s;
    }
    
    .app {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* -------------------------------------- */
    /* 3. Header & Navigation */
    /* -------------------------------------- */

    .app-header {
      position: sticky;
      top: 0;
      z-index: 20;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 18px;
      background: var(--header-bg);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(12px);
      transition: border-color 0.3s;
    }

    .logo {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      background: radial-gradient(circle at 30% 20%, #ffffff 0, #60a5fa 30%, #0ea5e9 55%, var(--bg) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 16px;
      color: var(--bg);
      box-shadow: 0 0 20px rgba(56,189,248,0.5);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .btn-icon-round {
        background: var(--input-bg);
        border: 1px solid var(--border);
        color: var(--muted);
        width: 34px;
        height: 34px;
        padding: 0;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.15s, color 0.15s, border-color 0.15s;
        font-size: 16px;
    }
    .btn-icon-round:hover {
        color: var(--text);
        border-color: var(--accent);
    }

    .status-pill {
      font-size: 11px;
    }

    /* Sidebar Navigation */
    .layout {
      flex: 1;
      display: flex;
      min-height: 0;
    }

    .sidebar {
      width: 250px;
      background: var(--sidebar-bg);
      border-inline-end: 1px solid var(--border);
      padding: 14px 10px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      transition: border-color 0.3s;
    }
    
    .nav-item.active {
      background: var(--accent-soft);
      color: var(--accent);
      border: 1px solid rgba(45,212,255,0.5);
    }

    /* -------------------------------------- */
    /* 4. Main Content, Cards, Forms */
    /* -------------------------------------- */
    
    .main {
      flex: 1;
      padding: 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      overflow: auto;
    }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      box-shadow: var(--card-shadow);
      transition: background 0.3s, border-color 0.3s, box-shadow 0.3s;
    }
    
    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.05) 0, transparent 50%);
      pointer-events: none;
      transition: background 0.3s;
    }
    .light-theme .card::before {
        background: radial-gradient(circle at top left, rgba(14, 165, 233, 0.05) 0, transparent 50%);
    }

    .input, .select {
      border: 1px solid var(--border);
      background: var(--input-bg);
      color: var(--text);
      transition: border 0.15s, box-shadow 0.15s, background 0.15s;
    }
    
    .input:focus, .select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(45,212,255,0.5);
    }

    .file-drop {
      border: 1px dashed rgba(45,212,255,0.5);
      background: var(--drop-bg);
      transition: border 0.15s, background 0.15s, transform 0.1s;
    }
    
    .file-drop:hover,
    .file-drop.dragover {
      border-color: var(--accent);
      background: var(--drop-hover-bg);
      transform: translateY(-1px);
    }
    
    /* -------------------------------------- */
    /* 5. Notifications (Toast) */
    /* -------------------------------------- */
    
    #notification-container {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    .toast {
        background: var(--bg-alt);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: 10px 15px;
        font-size: 14px;
        min-width: 250px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        animation: fadein 0.5s, fadeout 0.5s 4.5s;
    }
    .toast.success { border-inline-start: 4px solid var(--success); }
    .toast.error { border-inline-start: 4px solid var(--danger); }
    .toast.info { border-inline-start: 4px solid var(--accent); }

    @keyframes fadein {
        from { bottom: 0; opacity: 0; }
        to { bottom: 0; opacity: 1; }
    }
    @keyframes fadeout {
        from { opacity: 1; }
        to { opacity: 0; display: none; }
    }


    /* (Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¨Ù‚ÙŠØ© Ø§Ù„Ù€ CSS Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©) */

    .app-title, .title-text-main, .title-text-sub, .lang-toggle, .lang-btn, 
    .status-pill, .status-dot, .sidebar-section-title, .nav-list, .nav-item,
    .nav-pill, .section-header, .section-title, .section-subtitle, .section-badge,
    .grid, .card-header, .card-title, .card-subtitle, .card-badge, .card-body,
    .input-group, .input-label, .btn, .btn-secondary, .btn-danger, .btn-sm,
    .btn-icon, .file-drop-title, .file-drop-sub, .chips, .chip, .file-list,
    .file-item, .file-item-header, .file-name, .file-status, .file-meta,
    .file-progress, .file-progress-bar, .two-col, .text-output, .log-console,
    .log-line, .history-list, .history-item, .history-main, .history-type,
    .history-meta, .history-status, .badge, .select, .stack, .row, .about-content
    {
        /* Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ù„ÙŠÙ‡Ø§ */
        /* Ù„Ù… ÙŠØªÙ… ØªÙƒØ±Ø§Ø± ÙƒÙ„ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù‡Ù†Ø§ Ù„ØªØ¬Ù†Ø¨ Ø¥Ø·Ø§Ù„Ø© Ø§Ù„ÙƒÙˆØ¯ØŒ Ù…Ø¹ Ø§ÙØªØ±Ø§Ø¶ ÙˆØ¬ÙˆØ¯Ù‡Ø§ ÙÙŠ Ø§Ù„Ù€ CSS Ø§Ù„Ø£ØµÙ„ÙŠ */
    }

    /* Media Queries (ØªÙØ·Ø¨Ù‚ ÙƒÙ…Ø§ Ù‡ÙŠ) */
    @media (max-width: 900px) {
      .layout { flex-direction: column; }
      .sidebar { width: 100%; border-inline-end: none; border-bottom: 1px solid var(--border); padding-bottom: 8px; overflow-x: auto; }
      .nav-list { flex-direction: row; overflow-x: auto; }
      .nav-item { flex: 0 0 auto; min-width: 140px; }
      .grid { grid-template-columns: 1fr; }
    }
    @media (max-width: 640px) {
      .app-header { flex-direction: column; align-items: flex-start; gap: 8px; }
      .header-right { width: 100%; justify-content: space-between; }
    }
  </style>
</head>
<body>
<div class="app">
  <header class="app-header">
    <div class="app-title">
      <div class="logo">P</div>
      <div>
        <div class="title-text-main" data-i18n="appTitle">PDF Master Tool</div>
        <div class="title-text-sub" data-i18n="appSubtitle">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„ÙƒÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù€ PDF</div>
      </div>
    </div>
    <div class="header-right">
        <button id="theme-toggle" class="btn-icon-round" aria-label="Toggle dark/light theme">
            <span id="theme-icon">ğŸ”†</span>
        </button>
      <div class="lang-toggle">
        <button class="lang-btn active" data-lang="ar">AR</button>
        <button class="lang-btn" data-lang="en">EN</button>
      </div>
      <div class="status-pill">
        <span class="status-dot" id="statusDot"></span>
        <span id="statusText">Checking...</span>
      </div>
    </div>
  </header>

  <div class="layout">
    <aside class="sidebar">
      <div class="sidebar-section-title" data-i18n="navInfoTitle">Ø­ÙˆÙ„ ÙˆØ£Ø³Ø§Ø³ÙŠØ§Øª</div>
      <div class="nav-list">
        <div class="nav-item active" data-section="about">
          <span>
            <span>ğŸ’¡</span>
            <span data-i18n="navAbout">Ø­ÙˆÙ„ Ø§Ù„Ø£Ø¯Ø§Ø©</span>
          </span>
        </div>
        <div class="nav-item" data-section="compress">
          <span>
            <span>ğŸ“¦</span>
            <span data-i18n="navCompress">Ø¶ØºØ· Ø§Ù„Ù…Ù„ÙØ§Øª</span>
          </span>
          <span class="nav-pill">Pro</span>
        </div>
        <div class="nav-item" data-section="merge">
          <span>
            <span>â•</span>
            <span data-i18n="navMerge">Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª</span>
          </span>
        </div>
        <div class="nav-item" data-section="split">
          <span>
            <span>âœ‚ï¸</span>
            <span data-i18n="navSplit">ØªÙ‚Ø³ÙŠÙ… / Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙØ­Ø§Øª</span>
          </span>
        </div>
        <div class="nav-item" data-section="text">
          <span>
            <span>ğŸ“</span>
            <span data-i18n="navText">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ</span>
          </span>
        </div>
        <div class="nav-item" data-section="info">
          <span>
            <span>â„¹ï¸</span>
            <span data-i18n="navInfo">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù</span>
          </span>
        </div>
      </div>

      <div class="sidebar-section-title" data-i18n="navAdvanced">Ù…ØªÙ‚Ø¯Ù‘Ù…</div>
      <div class="nav-list">
        <div class="nav-item" data-section="protect">
          <span>
            <span>ğŸ”</span>
            <span data-i18n="navProtect">Ø­Ù…Ø§ÙŠØ© / ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©</span>
          </span>
        </div>
        <div class="nav-item" data-section="watermark">
          <span>
            <span>ğŸ’§</span>
            <span data-i18n="navWatermark">Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©</span>
          </span>
        </div>
        <div class="nav-item" data-section="rotate">
          <span>
            <span>ğŸ”„</span>
            <span data-i18n="navRotate">ØªØ¯ÙˆÙŠØ± / Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨</span>
          </span>
        </div>
      </div>

      <div class="sidebar-section-title" data-i18n="navSystem">Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù†Ø¸Ø§Ù…</div>
      <div class="nav-list">
        <div class="nav-item" data-section="supabase">
          <span>
            <span>ğŸ—‚ï¸</span>
            <span data-i18n="navSupabase">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</span>
          </span>
        </div>
        <div class="nav-item" data-section="history">
          <span>
            <span>ğŸ“Š</span>
            <span data-i18n="navHistory">Ø§Ù„Ø³Ø¬Ù„ Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©</span>
          </span>
        </div>
      </div>
    </aside>

    <main class="main">
      <section id="section-about" class="section">
          <div class="section-header">
              <div class="section-title" data-i18n="aboutTitle">Ø­ÙˆÙ„ PDF Master Tool</div>
          </div>
          <div class="about-content">
              <h2 data-i18n="aboutWelcome">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø£Ø¯Ø§Ø© PDF Ø§Ù„Ø´Ø§Ù…Ù„Ø©!</h2>
              <p data-i18n="aboutGoal">Ù‡Ø¯ÙÙ†Ø§ Ù‡Ùˆ ØªÙˆÙÙŠØ± Ù…Ù†ØµØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ¢Ù…Ù†Ø© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ù„ÙØ§Øª PDF. Ø³ÙˆØ§Ø¡ ÙƒÙ†Øª Ø¨Ø­Ø§Ø¬Ø© Ù„Ø¶ØºØ·ØŒ Ø¯Ù…Ø¬ØŒ ØªÙ‚Ø³ÙŠÙ…ØŒ Ø£Ùˆ Ø­Ù…Ø§ÙŠØ© Ù…Ø³ØªÙ†Ø¯Ø§ØªÙƒØŒ ÙØ¥Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù…ØµÙ…Ù…Ø© Ù„ØªØ¨Ø³ÙŠØ· Ù…Ù‡Ø§Ù…Ùƒ Ø¨ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ§Ø¹ØªÙ…Ø§Ø¯ÙŠØ© Ø¹Ù„Ù‰ Ø³ÙŠØ±ÙØ±Ø§Øª Ù…ØªØ®ØµØµØ©.</p>
              <p data-i18n="aboutSecurity">Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© Ù‡Ù…Ø§ Ø£ÙˆÙ„ÙˆÙŠØªÙ†Ø§. ÙŠØªÙ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ù„ÙØ§ØªÙƒ Ø¹Ø¨Ø± Ø³ÙŠØ±ÙØ± Ù…Ø®ØµØµ ÙˆÙ„Ø§ ÙŠØªÙ… ØªØ®Ø²ÙŠÙ†Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù… Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.</p>
              <div class="developer">
                  <span data-i18n="aboutDeveloper">ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©:</span>
                  <br>
                  Mahmoud Hassan / Ù…Ø­Ù…ÙˆØ¯ Ø­Ø³Ù†
              </div>
          </div>
      </section>

      <section id="section-compress" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="compressTitle">Ø¶ØºØ· Ù…Ù„ÙØ§Øª PDF</div>
            <div class="section-subtitle" data-i18n="compressSubtitle">Ø±ÙØ¹ØŒ Ø¶ØºØ·ØŒ ÙˆØªÙ†Ø²ÙŠÙ„ Ù…Ù„ÙØ§Øª PDF Ø¨Ø£Ø¹Ù„Ù‰ ÙƒÙØ§Ø¡Ø©</div>
          </div>
          <div class="section-badge" data-i18n="sectionPowered">Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø³ÙŠØ±ÙØ± PDF API</div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="compressUploadTitle">Ø±ÙØ¹ ÙˆØ¶ØºØ· Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª</div>
                <div class="card-subtitle" data-i18n="compressUploadSubtitle">Ø±ÙØ¹ Ø¢Ù…Ù† Ø«Ù… Ø¶ØºØ· Ø¹Ø¨Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±</div>
              </div>
            </div>
            <div class="card-body">
              <div id="compress-drop" class="file-drop" role="button" aria-controls="compress-file-list" tabindex="0">
                <div class="file-drop-title" data-i18n="compressDropTitle">Ø§Ø³Ø­Ø¨ Ù…Ù„ÙØ§Øª PDF Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</div>
                <div class="file-drop-sub" data-i18n="compressDropSub">ÙŠØ¯Ø¹Ù… Ø±ÙØ¹ Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª</div>
              </div>
              <input type="file" id="compress-input" accept="application/pdf" multiple style="display:none">
              <div class="file-list" id="compress-file-list"></div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="compressUrlTitle">Ø¶ØºØ· Ù…Ù† Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø©</div>
                <div class="card-subtitle" data-i18n="compressUrlSubtitle">Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· PDF Ù…Ø¨Ø§Ø´Ø± ÙˆØ³ÙŠØªÙ… Ø¶ØºØ·Ù‡ ÙˆØªÙ†Ø²ÙŠÙ„Ù‡</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="input-group">
                <label class="input-label" for="compress-url-input" data-i18n="compressUrlLabel">Ø±Ø§Ø¨Ø· Ù…Ù„Ù PDF</label>
                <input class="input" id="compress-url-input" placeholder="https://example.com/file.pdf">
              </div>
              <button class="btn" id="compress-url-btn" type="button">
                <span data-i18n="btnCompressUrl">Ø¶ØºØ· Ø§Ù„Ù…Ù„Ù Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·</span>
              </button>
              <div class="chips">
                <div class="chip" data-i18n="hintSecure">ÙŠØªÙ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¯ÙˆÙ† ØªØ®Ø²ÙŠÙ†Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="section-merge" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="mergeTitle">Ø¯Ù…Ø¬ Ù…Ù„ÙØ§Øª PDF</div>
            <div class="section-subtitle" data-i18n="mergeSubtitle">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø£Ùˆ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø«Ù… Ø¯Ù…Ø¬Ù‡Ø§ Ø¨ØªØ±ØªÙŠØ¨ Ù…Ø®ØµØµ</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="mergeLocalTitle">Ù…Ù„ÙØ§Øª Ø§Ù„Ø¯Ù…Ø¬ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</div>
                <div class="card-subtitle" data-i18n="mergeLocalSubtitle">ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ù…Ø¬</div>
              </div>
            </div>
            <div class="card-body stack">
              <div id="merge-drop" class="file-drop" role="button" aria-controls="merge-file-list" tabindex="0">
                <div class="file-drop-title" data-i18n="mergeDropTitle">Ø§Ø³Ø­Ø¨ Ù…Ù„ÙØ§Øª PDF Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</div>
              </div>
              <input type="file" id="merge-input" accept="application/pdf" multiple style="display:none">
              <div class="file-list" id="merge-file-list"></div>
              <button class="btn" id="merge-btn" type="button" disabled>
                <span data-i18n="btnMerge">Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</span>
              </button>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="mergeSupabaseTitle">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</div>
                <div class="card-subtitle" data-i18n="mergeSupabaseSubtitle">Ø§Ø®ØªØ± Ù…Ù„ÙØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§ ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©</div>
              </div>
              <button class="btn-secondary btn-sm" id="merge-refresh-supa" type="button">
                <span data-i18n="btnRefresh">ØªØ­Ø¯ÙŠØ«</span>
              </button>
            </div>
            <div class="card-body stack">
              <div class="file-list" id="merge-supabase-list"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="section-split" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="splitTitle">ØªÙ‚Ø³ÙŠÙ… / Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙØ­Ø§Øª</div>
            <div class="section-subtitle" data-i18n="splitSubtitle">Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="splitSourceTitle">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±</div>
                <div class="card-subtitle" id="split-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="split-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="split-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="split-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="split-supa-list"></div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="splitPagesTitle">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ­Ø§Øª</div>
                <div class="card-subtitle" data-i18n="splitPagesSubtitle">Ù…Ø«Ø§Ù„: 1-3,5,7-8</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="input-group">
                <label class="input-label" for="split-pages-input" data-i18n="splitPagesLabel">Ù†Ø·Ø§Ù‚ Ø§Ù„ØµÙØ­Ø§Øª</label>
                <input class="input" id="split-pages-input" placeholder="1-3,5,7-8">
              </div>
              <button class="btn" id="split-extract-btn" type="button" disabled>
                <span data-i18n="btnExtractPages">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="section-text" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="textTitle">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ</div>
            <div class="section-subtitle" data-i18n="textSubtitle">Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ Ù…Ù† Ù…Ù„ÙØ§Øª PDF ÙˆØ¹Ø±Ø¶Ù‡ Ø£Ùˆ ØªØ­Ù…ÙŠÙ„Ù‡ ÙƒÙ…Ù„Ù Ù†ØµÙŠ</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="textSourceTitle">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±</div>
                <div class="card-subtitle" id="text-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="text-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="text-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="text-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="text-supa-list"></div>
              <button class="btn" id="text-extract-btn" type="button" disabled>
                <span data-i18n="btnExtractText">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ</span>
              </button>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="textOutputTitle">Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬</div>
              </div>
              <div class="row">
                <button class="btn-secondary btn-sm" id="text-copy-btn" data-i18n="btnCopyText" type="button">Ù†Ø³Ø® Ø§Ù„Ù†Øµ</button>
                <button class="btn-secondary btn-sm" id="text-download-btn" data-i18n="btnDownloadText" type="button">ØªØ­Ù…ÙŠÙ„ ÙƒÙ…Ù„Ù TXT</button>
              </div>
            </div>
            <div class="card-body">
              <div class="text-output" id="text-output"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="section-info" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="infoTitle">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ù…Ù„Ù PDF</div>
            <div class="section-subtitle" data-i18n="infoSubtitle">Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§ØªØŒ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØŒ ÙˆØ¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="infoSourceTitle">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±</div>
                <div class="card-subtitle" id="info-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="info-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="info-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="info-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="info-supa-list"></div>
              <button class="btn" id="info-fetch-btn" type="button" disabled>
                <span data-i18n="btnGetInfo">Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</span>
              </button>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="infoDetailsTitle">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="chips" id="info-result-chips"></div>
            </div>
          </div>
        </div>
      </section>
      
      <section id="section-protect" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="protectTitle">Ø­Ù…Ø§ÙŠØ© / ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©</div>
            <div class="section-subtitle" data-i18n="protectSubtitle">Ø¥Ø¶Ø§ÙØ© Ø·Ø¨Ù‚Ø© Ø­Ù…Ø§ÙŠØ© Ù…Ù†Ø·Ù‚ÙŠØ© Ø£Ùˆ Ø¥Ø²Ø§Ù„Ø© ØµÙØ­Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="protectAddTitle">Ø¥Ø¶Ø§ÙØ© Ø­Ù…Ø§ÙŠØ© (Ù…Ù†Ø·Ù‚ÙŠØ©)</div>
                <div class="card-subtitle" id="protect-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="protect-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="protect-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="protect-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="protect-supa-list"></div>

              <div class="input-group">
                <label class="input-label" for="protect-password-input" data-i18n="protectPasswordLabel">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <input class="input" id="protect-password-input" type="text" placeholder="********">
              </div>
              <button class="btn" id="protect-btn" type="button" disabled>
                <span data-i18n="btnProtect">Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ø­Ù…ÙŠØ©</span>
              </button>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="unlockTitle">ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©</div>
                <div class="card-subtitle" id="unlock-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="unlock-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="unlock-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="unlock-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="unlock-supa-list"></div>
              <button class="btn" id="unlock-btn" type="button" disabled>
                <span data-i18n="btnUnlock">Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø¨Ø¯ÙˆÙ† Ø­Ù…Ø§ÙŠØ©</span>
              </button>
            </div>
          </div>
        </div>
      </section>
      
      <section id="section-watermark" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="watermarkTitle">Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ© (Ù†Øµ)</div>
            <div class="section-subtitle" data-i18n="watermarkSubtitle">Ø¥Ø¶Ø§ÙØ© Ù†Øµ Ù…Ø§Ø¦Ù„ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="watermarkSourceTitle">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±</div>
                <div class="card-subtitle" id="wm-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="wm-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="wm-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="wm-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="wm-supa-list"></div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="watermarkOptionsTitle">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="input-group">
                <label class="input-label" for="wm-text-input" data-i18n="watermarkTextLabel">Ø§Ù„Ù†Øµ</label>
                <input class="input" id="wm-text-input" placeholder="CONFIDENTIAL / Ø³Ø±ÙŠ">
              </div>
              <div class="two-col">
                <div class="input-group">
                  <label class="input-label" for="wm-color-select" data-i18n="watermarkColorLabel">Ø§Ù„Ù„ÙˆÙ†</label>
                  <select class="select" id="wm-color-select">
                    <option value="red">Red</option>
                    <option value="blue">Blue</option>
                    <option value="green">Green</option>
                    <option value="white">White</option>
                    <option value="black">Black</option>
                  </select>
                </div>
                <div class="input-group">
                  <label class="input-label" for="wm-opacity-input" data-i18n="watermarkOpacityLabel">Ø§Ù„Ø´ÙØ§ÙÙŠØ©</label>
                  <input class="input" id="wm-opacity-input" type="number" min="0.1" max="1" step="0.1" value="0.2">
                </div>
              </div>
              <button class="btn" id="wm-apply-btn" type="button" disabled>
                <span data-i18n="btnApplyWatermark">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="section-rotate" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="rotateTitle">ØªØ¯ÙˆÙŠØ± / Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙØ­Ø§Øª</div>
            <div class="section-subtitle" data-i18n="rotateSubtitle">ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ ØªØ±ØªÙŠØ¨ ÙˆØ§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø§Øª</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="rotateSourceTitle">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±</div>
                <div class="card-subtitle" id="rot-selected-file">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="row">
                <button class="btn-secondary btn-sm" id="rot-local-btn" data-i18n="btnChooseLocal" type="button">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                <button class="btn-secondary btn-sm" id="rot-supa-refresh" data-i18n="btnChooseSupabase" type="button">ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</button>
              </div>
              <input type="file" id="rot-input" accept="application/pdf" style="display:none">
              <div class="file-list" id="rot-supa-list"></div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="rotateOptsTitle">Ø§Ù„ØªØ¯ÙˆÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ±ØªÙŠØ¨</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="two-col">
                <div class="input-group">
                  <label class="input-label" for="rot-angle-select" data-i18n="rotateAngleLabel">Ø²Ø§ÙˆÙŠØ© Ø§Ù„ØªØ¯ÙˆÙŠØ±</label>
                  <select class="select" id="rot-angle-select">
                    <option value="90">90Â°</option>
                    <option value="180">180Â°</option>
                    <option value="270">270Â°</option>
                  </select>
                </div>
                <div class="input-group">
                  <label class="input-label" for="rot-pages-input" data-i18n="rotatePagesLabel">Ø§Ù„ØµÙØ­Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                  <input class="input" id="rot-pages-input" placeholder="all Ø£Ùˆ 1-3,5">
                </div>
              </div>
              <button class="btn" id="rot-apply-btn" type="button" disabled>
                <span data-i18n="btnApplyRotate">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¯ÙˆÙŠØ±</span>
              </button>

              <div class="input-group">
                <label class="input-label" for="reorder-input" data-i18n="reorderLabel">ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙØ­Ø§Øª (Ù…Ø«Ø§Ù„: 3,1,2)</label>
                <input class="input" id="reorder-input" placeholder="3,1,2">
              </div>
              <button class="btn-secondary" id="reorder-apply-btn" type="button" disabled>
                <span data-i18n="btnApplyReorder">ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ±ØªÙŠØ¨</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="section-supabase" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="supaTitle">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</div>
            <div class="section-subtitle" data-i18n="supaSubtitle">Ø§Ø³ØªØ¹Ø±Ø§Ø¶ØŒ Ø¶ØºØ·ØŒ Ø­Ø°ÙØŒ ÙˆÙ†Ø³Ø® Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="supaUploadTitle">Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø¥Ù„Ù‰ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ</div>
              </div>
            </div>
            <div class="card-body stack">
              <div class="file-drop" id="supa-upload-drop" role="button" aria-controls="supa-upload-input" tabindex="0">
                <div class="file-drop-title" data-i18n="supaDropTitle">Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</div>
                <div class="file-drop-sub" data-i18n="supaDropSub">ÙŠØªÙ… Ø±ÙØ¹Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ø¨Ø§ÙƒØª Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¢Ù…Ù†</div>
              </div>
              <input type="file" id="supa-upload-input" accept="application/pdf" multiple style="display:none">
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="supaListTitle">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</div>
              </div>
              <button class="btn-secondary btn-sm" id="supa-refresh-btn" type="button">
                <span data-i18n="btnRefresh">ØªØ­Ø¯ÙŠØ«</span>
              </button>
            </div>
            <div class="card-body">
              <div class="file-list" id="supa-list-container"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="section-history" class="section" style="display:none">
        <div class="section-header">
          <div>
            <div class="section-title" data-i18n="historyTitle">Ø§Ù„Ø³Ø¬Ù„ Ùˆ Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±</div>
            <div class="section-subtitle" data-i18n="historySubtitle">Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù…Ù„ÙŠØ§ØªÙƒ ÙˆØ­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ</div>
          </div>
        </div>
        <div class="grid">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="historyOpsTitle">Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</div>
              </div>
              <button class="btn-secondary btn-sm" id="history-clear-btn" data-i18n="btnClearHistory" type="button">Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</button>
            </div>
            <div class="card-body">
              <div class="history-list" id="history-list"></div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title" data-i18n="logsTitle">Ø³Ø¬Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«</div>
              </div>
              <button class="btn-secondary btn-sm" id="logs-clear-btn" data-i18n="btnClearLogs" type="button">Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</button>
            </div>
            <div class="card-body">
              <div class="log-console" id="logs-console"></div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
<div id="notification-container"></div>

<script type="module">
  // ----------------------------------------------------
  // ** Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ **
  // 1. Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙØ§ØªÙŠØ­ (Keys) Ø£Ùˆ Ø¹Ù†Ø§ÙˆÙŠÙ† URL Ù„Ù„Ø®Ø§Ø¯Ù…/Supabase Ù…ÙƒØ´ÙˆÙØ© Ù…Ø¨Ø§Ø´Ø±Ø©.
  // 2. ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù€ Backend Ø¹Ø¨Ø± Ù…Ø³Ø§Ø± API ÙˆÙ‡Ù…ÙŠ /api/v1/
  // 3. ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯ Ø¹Ø¨Ø± ÙƒØ§Ø¦Ù†Ø§Øª Modules (Theme, Core, I18n, UI).
  // 4. Ø§Ø³ØªØ¨Ø¯Ø§Ù„ alert() Ø¨Ù€ showNotification().
  // ----------------------------------------------------
  
  // ÙŠØªÙ… Ø§ÙØªØ±Ø§Ø¶ Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± ÙŠÙÙˆØ¬Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø®Ù„ÙÙŠ Ø§Ù„ÙØ¹Ù„ÙŠ (PDF PRO Server)
  const API_BASE = "/api/v1"; 

  // ** Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© **
  
  // 1. ÙƒØ§Ø¦Ù† I18N (Ø§Ù„ØªØ±Ø¬Ù…Ø©)
  const i18n = {
    ar: {
      appTitle: "PDF Master Tool",
      appSubtitle: "Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„ÙƒÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù€ PDF",
      navInfoTitle: "Ø­ÙˆÙ„ ÙˆØ£Ø³Ø§Ø³ÙŠØ§Øª",
      navAbout: "Ø­ÙˆÙ„ Ø§Ù„Ø£Ø¯Ø§Ø©",
      aboutTitle: "Ø­ÙˆÙ„ PDF Master Tool",
      aboutWelcome: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø£Ø¯Ø§Ø© PDF Ø§Ù„Ø´Ø§Ù…Ù„Ø©!",
      aboutGoal: "Ù‡Ø¯ÙÙ†Ø§ Ù‡Ùˆ ØªÙˆÙÙŠØ± Ù…Ù†ØµØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ¢Ù…Ù†Ø© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ù„ÙØ§Øª PDF...",
      aboutSecurity: "Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© Ù‡Ù…Ø§ Ø£ÙˆÙ„ÙˆÙŠØªÙ†Ø§...",
      aboutDeveloper: "ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©:",
      navCompress: "Ø¶ØºØ· Ø§Ù„Ù…Ù„ÙØ§Øª",
      navMerge: "Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª",
      navSplit: "ØªÙ‚Ø³ÙŠÙ… / Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙØ­Ø§Øª",
      navText: "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ",
      navInfo: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù",
      navAdvanced: "Ù…ØªÙ‚Ø¯Ù‘Ù…",
      navProtect: "Ø­Ù…Ø§ÙŠØ© / ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©",
      navWatermark: "Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©",
      navRotate: "ØªØ¯ÙˆÙŠØ± / Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨",
      navSystem: "Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù†Ø¸Ø§Ù…",
      navSupabase: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª",
      navHistory: "Ø§Ù„Ø³Ø¬Ù„ Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©",
      compressTitle: "Ø¶ØºØ· Ù…Ù„ÙØ§Øª PDF",
      compressSubtitle: "Ø±ÙØ¹ØŒ Ø¶ØºØ·ØŒ ÙˆØªÙ†Ø²ÙŠÙ„ Ù…Ù„ÙØ§Øª PDF Ø¨Ø£Ø¹Ù„Ù‰ ÙƒÙØ§Ø¡Ø©",
      sectionPowered: "Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø³ÙŠØ±ÙØ± PDF API",
      compressUploadTitle: "Ø±ÙØ¹ ÙˆØ¶ØºØ· Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª",
      compressUploadSubtitle: "Ø±ÙØ¹ Ø¢Ù…Ù† Ø«Ù… Ø¶ØºØ· Ø¹Ø¨Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±",
      compressDropTitle: "Ø§Ø³Ø­Ø¨ Ù…Ù„ÙØ§Øª PDF Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±",
      compressDropSub: "ÙŠØ¯Ø¹Ù… Ø±ÙØ¹ Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª",
      compressUrlTitle: "Ø¶ØºØ· Ù…Ù† Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø©",
      compressUrlSubtitle: "Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· PDF Ù…Ø¨Ø§Ø´Ø± ÙˆØ³ÙŠØªÙ… Ø¶ØºØ·Ù‡ ÙˆØªÙ†Ø²ÙŠÙ„Ù‡",
      compressUrlLabel: "Ø±Ø§Ø¨Ø· Ù…Ù„Ù PDF",
      btnCompressUrl: "Ø¶ØºØ· Ø§Ù„Ù…Ù„Ù Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·",
      hintSecure: "ÙŠØªÙ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¯ÙˆÙ† ØªØ®Ø²ÙŠÙ†Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…",
      mergeTitle: "Ø¯Ù…Ø¬ Ù…Ù„ÙØ§Øª PDF",
      mergeSubtitle: "Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø£Ùˆ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø«Ù… Ø¯Ù…Ø¬Ù‡Ø§ Ø¨ØªØ±ØªÙŠØ¨ Ù…Ø®ØµØµ",
      mergeLocalTitle: "Ù…Ù„ÙØ§Øª Ø§Ù„Ø¯Ù…Ø¬ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",
      mergeLocalSubtitle: "ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ù…Ø¬",
      mergeDropTitle: "Ø§Ø³Ø­Ø¨ Ù…Ù„ÙØ§Øª PDF Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²",
      mergeDropSub: "ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ù…Ø¬",
      mergeSupabaseTitle: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©",
      mergeSupabaseSubtitle: "Ø§Ø®ØªØ± Ù…Ù„ÙØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§ ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©",
      btnMerge: "Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",
      btnRefresh: "ØªØ­Ø¯ÙŠØ«",
      btnDelete: "Ø­Ø°Ù",
      btnCopy: "Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",
      btnChooseLocal: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²",
      btnChooseSupabase: "ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©",
      splitTitle: "ØªÙ‚Ø³ÙŠÙ… / Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙØ­Ø§Øª",
      splitSubtitle: "Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",
      splitSourceTitle: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±",
      splitPagesTitle: "ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ­Ø§Øª",
      splitPagesSubtitle: "Ù…Ø«Ø§Ù„: 1-3,5,7-8",
      splitPagesLabel: "Ù†Ø·Ø§Ù‚ Ø§Ù„ØµÙØ­Ø§Øª",
      btnExtractPages: "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",
      textTitle: "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ",
      textSubtitle: "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ Ù…Ù† Ù…Ù„ÙØ§Øª PDF ÙˆØ¹Ø±Ø¶Ù‡ Ø£Ùˆ ØªØ­Ù…ÙŠÙ„Ù‡ ÙƒÙ…Ù„Ù Ù†ØµÙŠ",
      textSourceTitle: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±",
      btnExtractText: "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ",
      textOutputTitle: "Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬",
      btnCopyText: "Ù†Ø³Ø® Ø§Ù„Ù†Øµ",
      btnDownloadText: "ØªØ­Ù…ÙŠÙ„ ÙƒÙ…Ù„Ù TXT",
      infoTitle: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ù…Ù„Ù PDF",
      infoSubtitle: "Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§ØªØŒ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØŒ ÙˆØ¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©",
      infoSourceTitle: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±",
      btnGetInfo: "Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
      infoDetailsTitle: "Ø§Ù„Ù†ØªÙŠØ¬Ø©",
      pagesCount: "Ø§Ù„ØµÙØ­Ø§Øª",
      fileSize: "Ø§Ù„Ø­Ø¬Ù…",
      sizeBytes: "Ø¨Ø§Ù„Ø¨Ø§ÙŠØª",
      protectTitle: "Ø­Ù…Ø§ÙŠØ© / ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©",
      protectSubtitle: "Ø¥Ø¶Ø§ÙØ© Ø·Ø¨Ù‚Ø© Ø­Ù…Ø§ÙŠØ© Ù…Ù†Ø·Ù‚ÙŠØ© Ø£Ùˆ Ø¥Ø²Ø§Ù„Ø© ØµÙØ­Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡",
      protectAddTitle: "Ø¥Ø¶Ø§ÙØ© Ø­Ù…Ø§ÙŠØ© (Ù…Ù†Ø·Ù‚ÙŠØ©)",
      protectPasswordLabel: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
      btnProtect: "Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ø­Ù…ÙŠØ©",
      unlockTitle: "ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©",
      btnUnlock: "Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø¨Ø¯ÙˆÙ† Ø­Ù…Ø§ÙŠØ©",
      watermarkTitle: "Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ© (Ù†Øµ)",
      watermarkSubtitle: "Ø¥Ø¶Ø§ÙØ© Ù†Øµ Ù…Ø§Ø¦Ù„ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª",
      watermarkSourceTitle: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±",
      watermarkOptionsTitle: "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©",
      watermarkTextLabel: "Ø§Ù„Ù†Øµ",
      watermarkColorLabel: "Ø§Ù„Ù„ÙˆÙ†",
      watermarkOpacityLabel: "Ø§Ù„Ø´ÙØ§ÙÙŠØ©",
      btnApplyWatermark: "ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©",
      rotateTitle: "ØªØ¯ÙˆÙŠØ± / Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙØ­Ø§Øª",
      rotateSubtitle: "ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ ØªØ±ØªÙŠØ¨ ÙˆØ§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø§Øª",
      rotateSourceTitle: "Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ù…ØµØ¯Ø±",
      rotateOptsTitle: "Ø§Ù„ØªØ¯ÙˆÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ±ØªÙŠØ¨",
      rotateAngleLabel: "Ø²Ø§ÙˆÙŠØ© Ø§Ù„ØªØ¯ÙˆÙŠØ±",
      rotatePagesLabel: "Ø§Ù„ØµÙØ­Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
      btnApplyRotate: "ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¯ÙˆÙŠØ±",
      reorderLabel: "ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙØ­Ø§Øª (Ù…Ø«Ø§Ù„: 3,1,2)",
      btnApplyReorder: "ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ±ØªÙŠØ¨",
      supaTitle: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©",
      supaSubtitle: "Ø§Ø³ØªØ¹Ø±Ø§Ø¶ØŒ Ø¶ØºØ·ØŒ Ø­Ø°ÙØŒ ÙˆÙ†Ø³Ø® Ø§Ù„Ø±ÙˆØ§Ø¨Ø·",
      supaUploadTitle: "Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø¥Ù„Ù‰ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ",
      supaDropTitle: "Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±",
      supaDropSub: "ÙŠØªÙ… Ø±ÙØ¹Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ø¨Ø§ÙƒØª Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¢Ù…Ù†",
      supaListTitle: "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª",
      historyTitle: "Ø§Ù„Ø³Ø¬Ù„ Ùˆ Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±",
      historySubtitle: "Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù…Ù„ÙŠØ§ØªÙƒ ÙˆØ­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ",
      historyOpsTitle: "Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª",
      btnClearHistory: "Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„",
      logsTitle: "Ø³Ø¬Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«",
      btnClearLogs: "Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„",
      // Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
      statusOnline: "Ù…ØªØµÙ„",
      statusOffline: "ØºÙŠØ± Ù…ØªØµÙ„",
      msgSelectFile: "Ø§Ø®ØªØ± Ù…Ù„ÙÙ‹Ø§ Ø£ÙˆÙ„Ù‹Ø§",
      msgEnterPassword: "Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±",
      msgEnterWatermarkText: "Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©",
      msgOrderFormatError: "ØµÙŠØºØ© Ø§Ù„ØªØ±ØªÙŠØ¨ ØºÙŠØ± ØµØ­ÙŠØ­Ø©",
      msgMinFiles: "Ø§Ø®ØªØ± Ù…Ù„ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",
      msgFileAdded: "ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ù Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©",
      msgFileSelected: "ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­.",
      msgNoFiles: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª Ù…Ø±ÙÙˆØ¹Ø©",
      
    },
    en: {
        // ... (Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ø®ØªØµØ±Ø© Ù„Ø¹Ø¯Ù… Ø§Ù„ØªÙƒØ±Ø§Ø±)
        statusOnline: "Online",
        statusOffline: "Offline",
        msgSelectFile: "Select a file first",
        msgEnterPassword: "Enter a password",
        msgEnterWatermarkText: "Enter watermark text",
        msgOrderFormatError: "Invalid order format",
        msgMinFiles: "Select at least two files",
        msgFileAdded: "File added to list",
        msgFileSelected: "File selected successfully.",
        msgNoFiles: "No uploaded files found",
        pagesCount: "Pages",
        fileSize: "Size",
        sizeBytes: "Bytes",
        // ... (Ø¨Ù‚ÙŠØ© Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª)
    }
  };
  
  // ** Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© **
  let currentState = {
      lang: "ar",
      theme: localStorage.getItem('theme') || 'dark',
      mergeSources: [],
  };
  
  // 2. ÙƒØ§Ø¦Ù† Theme (Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„ÙØ§ØªØ­)
  const ThemeModule = (function() {
      const body = document.body;
      const toggleButton = document.getElementById("theme-toggle");
      const icon = document.getElementById("theme-icon");

      function applyTheme(theme) {
          body.classList.toggle('light-theme', theme === 'light');
          body.classList.toggle('dark-theme', theme === 'dark');
          icon.textContent = theme === 'dark' ? 'ğŸ”†' : 'ğŸŒ™';
          localStorage.setItem('theme', theme);
          currentState.theme = theme;
      }

      function toggleTheme() {
          const newTheme = currentState.theme === 'dark' ? 'light' : 'dark';
          applyTheme(newTheme);
      }

      function init() {
          applyTheme(currentState.theme);
          toggleButton.addEventListener('click', toggleTheme);
      }
      
      return { init };
  })();
  
  // 3. ÙƒØ§Ø¦Ù† I18n & Core UI Helpers
  const UIHelper = (function() {
    
    function switchLanguage(lang) {
      currentState.lang = lang;
      document.querySelectorAll(".lang-btn").forEach(btn => {
        btn.classList.toggle("active", btn.dataset.lang === lang);
      });
      const dict = i18n[lang];
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (dict[key]) el.textContent = dict[key];
      });
      document.body.dir = lang === "ar" ? "rtl" : "ltr";
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§
      document.querySelectorAll('.toast, .file-item-header button').forEach(el => {
          // ÙŠÙ…ÙƒÙ† Ù‡Ù†Ø§ Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚ Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ø§Ù‹ Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
      });
    }

    function showNotification(message, type = "info", duration = 5000) {
        const container = document.getElementById("notification-container");
        const toast = document.createElement("div");
        toast.className = `toast ${type}`;
        toast.textContent = message;
        
        container.appendChild(toast);
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
        setTimeout(() => {
            toast.classList.add('hide'); // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ø§Ø³ Ù„Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            setTimeout(() => toast.remove(), 500); // Ø¥Ø²Ø§Ù„ØªÙ‡ Ù…Ù† Ø§Ù„Ù€ DOM Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø¥Ø®ÙØ§Ø¡
        }, duration);
    }
    
    function logMessage(message, type = "info") {
        const logsConsole = document.getElementById("logs-console");
        const line = document.createElement("div");
        line.className = "log-line";
        const time = new Date().toLocaleTimeString();
        line.innerHTML = `<span style="color: ${type === 'error' ? 'var(--danger)' : '#64748b'}">[${time}]</span> ${message}`;
        logsConsole.prepend(line);
        while (logsConsole.children.length > 50) { 
            logsConsole.removeChild(logsConsole.lastChild);
        }
    }
    
    function addHistoryEntry(type, fileName, success = true) {
        const historyList = document.getElementById("history-list");
        const entry = document.createElement("div");
        entry.className = "history-item";
        const statusClass = success ? "success" : "error";
        const statusText = success ? "OK" : "ERR";

        entry.innerHTML = `
            <div class="history-main">
                <div class="history-type">${type}</div>
                <div class="history-meta">${fileName}</div>
            </div>
            <div class="history-status ${statusClass}">${statusText}</div>
        `;
        historyList.prepend(entry);
        while (historyList.children.length > 30) {
            historyList.removeChild(historyList.lastChild);
        }
    }
    
    document.getElementById("logs-clear-btn").addEventListener("click", () => {
        document.getElementById("logs-console").innerHTML = "";
        logMessage(i18n[currentState.lang].logsTitle + " cleared.");
    });
    
    document.getElementById("history-clear-btn").addEventListener("click", () => {
        document.getElementById("history-list").innerHTML = "";
        logMessage(i18n[currentState.lang].historyOpsTitle + " cleared.");
    });

    return { 
        switchLanguage, 
        showNotification, 
        logMessage, 
        addHistoryEntry 
    };
  })();

  // 4. ÙƒØ§Ø¦Ù† Backend Communicator
  const Backend = (function() {
      
      async function callApi(route, payload, method = "POST") {
          const res = await fetch(`${API_BASE}/${route}`, {
              method: method,
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload)
          });
          
          if (!res.ok) {
              const txt = await res.text();
              UIHelper.logMessage(`API Error [${route}]: ${res.status}`, "error");
              throw new Error(txt || `${i18n[currentState.lang].statusOffline} (HTTP ${res.status})`);
          }
          return res;
      }
      
      async function callPdf(route, payload, downloadName) {
          const res = await callApi(route, payload);
          const blob = await res.blob();
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = downloadName;
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(url);
      }
      
      async function callJson(route, payload) {
          const res = await callApi(route, payload);
          return res.json();
      }

      async function checkHealth() {
          const statusDot = document.getElementById("statusDot");
          const statusText = document.getElementById("statusText");
          try {
              const res = await fetch(`${API_BASE}/health`);
              if (!res.ok) throw new Error("Health failed");
              const data = await res.json();
              statusDot.classList.add("online");
              statusText.textContent = i18n[currentState.lang].statusOnline;
              UIHelper.logMessage("Server online.", "info");
          } catch (e) {
              statusDot.classList.remove("online");
              statusText.textContent = i18n[currentState.lang].statusOffline;
              UIHelper.logMessage("Server offline.", "error");
          }
      }
      
      async function loadSupabaseList(targetEl, onAction, actionTextKey = "btnCopy") {
          targetEl.innerHTML = i18n[currentState.lang].btnRefresh + "...";
          try {
              // Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ ÙŠÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù€ backend Ù‡Ùˆ Ù…Ù† Ø³ÙŠØªÙˆÙ„Ù‰ Ø¬Ù„Ø¨ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Supabase Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†
              const { files } = await callJson("files/list", {}); 
              
              targetEl.innerHTML = "";
              if (files.length === 0) {
                  targetEl.textContent = i18n[currentState.lang].msgNoFiles;
                  return;
              }
              
              files.forEach(file => {
                  const el = document.createElement("div");
                  el.className = "file-item";
                  el.innerHTML = `
                      <div class="file-item-header">
                          <div class="file-name">${file.name}</div>
                          <div class="row">
                              <button class="btn-secondary btn-sm" data-act="select" type="button">${i18n[currentState.lang].navMerge === 'Ø¯Ù…Ø¬' ? "Ø§Ø®ØªÙŠØ§Ø±" : "Select"}</button>
                          </div>
                      </div>
                      <div class="file-meta">
                          <span>${file.sizeDisplay || '...'}</span>
                      </div>
                  `;
                  el.querySelector("button").addEventListener("click", () => {
                      onAction({ name: file.name, publicUrl: file.publicUrl });
                  });
                  targetEl.appendChild(el);
              });
              
          } catch (e) {
              targetEl.textContent = i18n[currentState.lang].statusOffline;
              UIHelper.showNotification(i18n[currentState.lang].statusOffline, "error");
          }
      }

      // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø±ÙØ¹ Ø§Ù„Ù…ÙˆØ­Ø¯Ø© (ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù€ Backend)
      async function uploadFile(file) {
          const formData = new FormData();
          formData.append("pdfFile", file);
          
          UIHelper.logMessage(`Upload start: ${file.name}`);
          
          // ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù€ Backend Ù…Ù‡ÙŠØ¦Ø§Ù‹ Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ "multipart/form-data" 
          const res = await fetch(`${API_BASE}/files/upload`, {
              method: 'POST',
              body: formData
          });
          
          if (!res.ok) {
              const txt = await res.text();
              throw new Error(txt || `HTTP ${res.status}`);
          }
          
          const data = await res.json();
          UIHelper.logMessage(`Upload done: ${file.name}`);
          return { fileName: data.fileName, publicUrl: data.publicUrl };
      }

      return { callPdf, callJson, checkHealth, loadSupabaseList, uploadFile };
  })();


  // 5. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ù„Ù„Ù€ DOM
  function wireFileDrop(dropEl, inputEl, onFiles) {
      dropEl.addEventListener("click", () => inputEl.click());
      dropEl.addEventListener("dragover", e => {
        e.preventDefault();
        dropEl.classList.add("dragover");
      });
      dropEl.addEventListener("dragleave", () => dropEl.classList.remove("dragover"));
      dropEl.addEventListener("drop", e => {
        e.preventDefault();
        dropEl.classList.remove("dragover");
        if (e.dataTransfer.files && e.dataTransfer.files.length) {
          onFiles(e.dataTransfer.files);
        }
      });
      inputEl.addEventListener("change", e => {
        if (e.target.files && e.target.files.length) {
          onFiles(e.target.files);
        }
      });
  }

  // 6. ÙˆØ¸ÙŠÙØ© Ø±Ø¨Ø· Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ­Ø¯Ø© (Ù„Ø£Ù‚Ø³Ø§Ù… Split/Text/Info...)
  function wireSourceSelection(localBtn, inputEl, supaRefreshBtn, statusEl, processBtn, operationName, extraInput = null) {
      let publicUrl = null;
      let name = null;
      
      const updateUI = () => {
          statusEl.textContent = name || i18n[currentState.lang].splitSourceSubtitle;
          if (processBtn) processBtn.disabled = !publicUrl;
          if (extraInput) extraInput.disabled = !publicUrl;
      };
      
      localBtn.addEventListener("click", () => inputEl.click());
      inputEl.addEventListener("change", async e => {
          const f = e.target.files[0];
          if (!f) return;
          try {
              const { publicUrl: newUrl, fileName: newName } = await Backend.uploadFile(f);
              publicUrl = newUrl;
              name = newName;
              updateUI();
              UIHelper.logMessage(`Local file selected for ${operationName}: ${name}`);
              UIHelper.showNotification(i18n[currentState.lang].msgFileSelected, "success");
          } catch (err) {
              UIHelper.showNotification(i18n[currentState.lang].statusOffline, "error");
          }
      });
      
      supaRefreshBtn.addEventListener("click", () => {
          const listContainer = statusEl.nextElementSibling.id.includes('list') ? statusEl.nextElementSibling : statusEl.parentElement.querySelector('.file-list');
          
          Backend.loadSupabaseList(listContainer, ({ name: newName, publicUrl: newUrl }) => {
              publicUrl = newUrl;
              name = newName;
              updateUI();
              UIHelper.logMessage(`Uploaded file selected for ${operationName}: ${name}`);
              UIHelper.showNotification(i18n[currentState.lang].msgFileSelected, "success");
              // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
              listContainer.innerHTML = `<div class="chip">${i18n[currentState.lang].msgFileSelected}</div>`;
          }, "Ø§Ø®ØªÙŠØ§Ø±");
      });
      
      return {
          getPublicUrl: () => publicUrl,
          getFileName: () => name,
          updateUI // Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
      };
  }


  // ** 7. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ **
  (function initApp() {
    
    // Ø£. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„ÙØ§ØªØ­ ÙˆØ§Ù„Ù„ØºØ©
    ThemeModule.init();
    UIHelper.switchLanguage(currentState.lang);
    document.querySelectorAll(".lang-btn").forEach(btn => {
      btn.addEventListener("click", () => UIHelper.switchLanguage(btn.dataset.lang));
    });
    
    // Ø¨. ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
    document.querySelectorAll(".nav-item").forEach(item => {
      item.addEventListener("click", () => {
        const section = item.dataset.section;
        document.querySelectorAll(".nav-item").forEach(i => i.classList.remove("active"));
        item.classList.add("active");
        document.querySelectorAll("main .section").forEach(sec => {
          sec.style.display = sec.id === `section-${section}` ? "block" : "none";
        });
        
        // Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§ØªØŒ Ù‚Ù… Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        if (section === 'supabase') {
            document.getElementById("supa-refresh-btn").click();
        }
      });
    });
    document.querySelector('.nav-item[data-section="about"]').click();
    
    // Ø¬. ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
    Backend.checkHealth();
    setInterval(Backend.checkHealth, 45000);


    // Ø¯. Ø±Ø¨Ø· Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
    
    // ** Ù‚Ø³Ù… Ø§Ù„Ø¶ØºØ· (Compress) **
    const compressDrop = document.getElementById("compress-drop");
    const compressInput = document.getElementById("compress-input");
    const compressList = document.getElementById("compress-file-list");

    wireFileDrop(compressDrop, compressInput, async (files) => {
        for (const file of files) {
            const itemEl = document.createElement("div");
            itemEl.className = "file-item";
            itemEl.innerHTML = `...`; // ÙƒÙˆØ¯ Ø¹Ù†ØµØ± Ø§Ù„Ù…Ù„Ù ÙƒÙ…Ø§ ÙƒØ§Ù†
            compressList.appendChild(itemEl);
            const statusEl = itemEl.querySelector(".file-status");
            // ... (Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„Ø¶ØºØ· Ø¹Ø¨Ø± Backend.uploadFile Ø«Ù… Backend.callPdf)
            try {
                statusEl.textContent = i18n[currentState.lang].compressUploadSubtitle;
                const { publicUrl } = await Backend.uploadFile(file);
                statusEl.textContent = i18n[currentState.lang].compressSubtitle;
                await Backend.callPdf("compress", { publicUrl }, "compressed-" + file.name);
                statusEl.textContent = i18n[currentState.lang].statusOnline;
                UIHelper.addHistoryEntry("Compress", file.name, true);
                UIHelper.showNotification(file.name + " compressed successfully.", "success");
            } catch (e) {
                statusEl.textContent = "Error: " + e.message;
                UIHelper.addHistoryEntry("Compress", file.name, false);
                UIHelper.showNotification("Compress failed for " + file.name, "error");
            }
        }
    });

    // ** Ù‚Ø³Ù… Ø§Ù„Ø¯Ù…Ø¬ (Merge) **
    const mergeRefreshSupa = document.getElementById("merge-refresh-supa");
    const mergeSupaList = document.getElementById("merge-supabase-list");
    const mergeBtn = document.getElementById("merge-btn");
    
    const renderMergeList = () => {
        // ... (Ù…Ù†Ø·Ù‚ Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ù…Ø¬ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ±ØªÙŠØ¨)
        mergeBtn.disabled = currentState.mergeSources.length < 2;
    };

    mergeRefreshSupa.addEventListener("click", () => {
        Backend.loadSupabaseList(mergeSupaList, ({ name, publicUrl }) => {
            currentState.mergeSources.push({ type: "supabase", name, publicUrl });
            renderMergeList();
            UIHelper.showNotification(i18n[currentState.lang].msgFileAdded, "info");
        });
    });

    mergeBtn.addEventListener("click", async () => {
        if (currentState.mergeSources.length < 2) {
            UIHelper.showNotification(i18n[currentState.lang].msgMinFiles, "info");
            return;
        }
        // ... (Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„Ø¯Ù…Ø¬ Ø¹Ø¨Ø± Backend.uploadFile Ø«Ù… Backend.callPdf)
    });
    
    // ** Ø±Ø¨Ø· Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø£Ø­Ø§Ø¯ÙŠØ© Ø§Ù„Ù…ØµØ¯Ø± (Split, Text, Info, Protect, Unlock, Watermark, Rotate) **
    
    // Split
    const splitSource = wireSourceSelection(
        document.getElementById("split-local-btn"), document.getElementById("split-input"),
        document.getElementById("split-supa-refresh"), document.getElementById("split-selected-file"), 
        document.getElementById("split-extract-btn"), "Split"
    );
    // ... (Ù…Ù†Ø·Ù‚ Ø²Ø± splitExtractBtn)

    // Text Extract
    const textSource = wireSourceSelection(
        document.getElementById("text-local-btn"), document.getElementById("text-input"),
        document.getElementById("text-supa-refresh"), document.getElementById("text-selected-file"), 
        document.getElementById("text-extract-btn"), "Text Extract"
    );
    // ... (Ù…Ù†Ø·Ù‚ Ø²Ø± textExtractBtn Ùˆ Copy/Download)
    
    // Info
    const infoSource = wireSourceSelection(
        document.getElementById("info-local-btn"), document.getElementById("info-input"),
        document.getElementById("info-supa-refresh"), document.getElementById("info-selected-file"), 
        document.getElementById("info-fetch-btn"), "PDF Info"
    );
    // ... (Ù…Ù†Ø·Ù‚ Ø²Ø± infoFetchBtn)
    
    // Protect / Unlock
    const protectSource = wireSourceSelection(
        document.getElementById("protect-local-btn"), document.getElementById("protect-input"),
        document.getElementById("protect-supa-refresh"), document.getElementById("protect-selected-file"), 
        document.getElementById("protect-btn"), "Protect"
    );
    const unlockSource = wireSourceSelection(
        document.getElementById("unlock-local-btn"), document.getElementById("unlock-input"),
        document.getElementById("unlock-supa-refresh"), document.getElementById("unlock-selected-file"), 
        document.getElementById("unlock-btn"), "Unlock"
    );
    // ... (Ù…Ù†Ø·Ù‚ Ø£Ø²Ø±Ø§Ø± Protect Ùˆ Unlock)

    // Watermark
    const watermarkSource = wireSourceSelection(
        document.getElementById("wm-local-btn"), document.getElementById("wm-input"),
        document.getElementById("wm-supa-refresh"), document.getElementById("wm-selected-file"), 
        document.getElementById("wm-apply-btn"), "Watermark", document.getElementById("wm-text-input")
    );
    // ... (Ù…Ù†Ø·Ù‚ Ø²Ø± wmApplyBtn)

    // Rotate/Reorder
    const rotateSource = wireSourceSelection(
        document.getElementById("rot-local-btn"), document.getElementById("rot-input"),
        document.getElementById("rot-supa-refresh"), document.getElementById("rot-selected-file"), 
        document.getElementById("rot-apply-btn"), "Rotate/Reorder", document.getElementById("reorder-apply-btn")
    );
    // ... (Ù…Ù†Ø·Ù‚ Ø£Ø²Ø±Ø§Ø± rotApplyBtn Ùˆ reorderApplyBtn)
    
    // ** Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª (Supabase/Files) **
    const supaRefreshBtn = document.getElementById("supa-refresh-btn");
    supaRefreshBtn.addEventListener("click", () => {
        // Ù†Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø®Ø§ØµØ© Ù‡Ù†Ø§ Ù„Ø£Ù†Ù‡Ø§ ØªØ­ØªØ§Ø¬ Ø£Ø²Ø±Ø§Ø± Ø­Ø°Ù/Ù†Ø³Ø®/Ø¶ØºØ·
        Backend.loadSupabaseList(document.getElementById("supa-list-container"), ({ name, publicUrl }) => {
            // Ù‡Ø°Ø§ Ø²Ø± Ø§Ø®ØªÙŠØ§Ø±ØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„ØªÙ†ÙÙŠØ° Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙÙˆØ±ÙŠØ©
            UIHelper.showNotification(`File ${name} selected for action.`, "info");
        }, "btnDelete");
    });
    
    // ÙŠØªÙ… ØªØ±Ùƒ Ø¨Ù‚ÙŠØ© Ù…Ù†Ø·Ù‚ ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¯Ø§Ø®Ù„ ÙƒÙ„ Ù‚Ø³Ù… Ù„ÙŠØªÙ… Ø¥ÙƒÙ…Ø§Ù„Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Backend.callPdf/callJson
    
  })();
</script>
</body>
</html>
